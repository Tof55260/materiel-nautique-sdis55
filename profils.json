@app.route("/profil", methods=["GET", "POST"])
def profil():
    profils = charger_profils()

    if request.method == "POST":
        nouveau_profil = {
            "nom": request.form["nom"],
            "prenom": request.form["prenom"],
            "role": request.form["role"],
            "actif": True
        }
        profils.append(nouveau_profil)
        sauvegarder_profils(profils)

    return render_template("profil.html", profils=profils)
def charger_echanges():
    if os.path.exists(FICHIER_ECHANGES):
        with open(FICHIER_ECHANGES, "r", encoding="utf-8") as f:
            return json.load(f)
    return []

def sauvegarder_echanges(echanges):
    with open(FICHIER_ECHANGES, "w", encoding="utf-8") as f:
        json.dump(echanges, f, indent=2, ensure_ascii=False)

