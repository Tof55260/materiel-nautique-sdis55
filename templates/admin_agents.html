{% extends "base.html" %}
{% block content %}

<h2>Administration des agents</h2>

<h3>Créer un agent</h3>

<form method="POST" action="/admin/agents/create" class="form">

<input name="nom" placeholder="Nom" required>
<input name="prenom" placeholder="Prénom" required>

<input type="date" name="naissance" required>

<select name="role">
    <option value="Plongeur">Plongeur</option>
    <option value="SAS">SAS</option>
    <option value="Admin">Admin</option>
</select>

<button>Créer agent</button>

<p style="font-size:12px;color:#666;margin-top:10px">
Login généré automatiquement : première lettre du prénom + nom<br>
Mot de passe à définir lors de la première connexion.
</p>

</form>

<hr>

<h3>Liste des agents</h3>

<table>

<tr>
<th>Nom</th>
<th>Prénom</th>
<th>Naissance</th>
<th>Profil</th>
<th>Login</th>
<th>État</th>
</tr>

{% for a in agents %}
<tr>
<td>{{ a.nom }}</td>
<td>{{ a.prenom }}</td>
<td>{{ a.naissance }}</td>
<td>{{ a.role }}</td>
<td>{{ a.login }}</td>
<td>
{% if a.password == "TEMP" %}
<span style="color:red">À activer</span>
{% else %}
Actif
{% endif %}
</td>
</tr>
{% endfor %}

</table>

{% endblock %}
